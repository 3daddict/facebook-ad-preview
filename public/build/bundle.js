var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function s(){return t=" ",document.createTextNode(t);var t}function d(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function _(t,e){(null!=e||t.value)&&(t.value=e)}function v(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}let p;function h(t){p=t}function E(t){(function(){if(!p)throw new Error("Function called outside component initialization");return p})().$$.on_mount.push(t)}const m=[],A=[],g=[],T=[],$=Promise.resolve();let I=!1;function y(t){g.push(t)}let x=!1;const D=new Set;function b(){if(!x){x=!0;do{for(let t=0;t<m.length;t+=1){const e=m[t];h(e),L(e.$$)}for(m.length=0;A.length;)A.pop()();for(let t=0;t<g.length;t+=1){const e=g[t];D.has(e)||(D.add(e),e())}g.length=0}while(m.length);for(;T.length;)T.pop()();I=!1,x=!1,D.clear()}}function L(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(y)}}const M=new Set;function k(t,e){-1===t.$$.dirty[0]&&(m.push(t),I||(I=!0,$.then(b)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function C(a,c,i,u,s,d,f=[-1]){const _=p;h(a);const v=c.props||{},E=a.$$={fragment:null,ctx:null,props:d,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(_?_.$$.context:[]),callbacks:n(),dirty:f};let m=!1;if(E.ctx=i?i(a,v,(t,e,...n)=>{const o=n.length?n[0]:e;return E.ctx&&s(E.ctx[t],E.ctx[t]=o)&&(E.bound[t]&&E.bound[t](o),m&&k(a,t)),e}):[],E.update(),m=!0,o(E.before_update),E.fragment=!!u&&u(E.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);E.fragment&&E.fragment.l(t),t.forEach(l)}else E.fragment&&E.fragment.c();c.intro&&((A=a.$$.fragment)&&A.i&&(M.delete(A),A.i(g))),function(t,n,a){const{fragment:c,on_mount:i,on_destroy:l,after_update:u}=t.$$;c&&c.m(n,a),y(()=>{const n=i.map(e).filter(r);l?l.push(...n):o(n),t.$$.on_mount=[]}),u.forEach(y)}(a,c.target,c.anchor),b()}var A,g;h(_)}function S(e){let n,r,a,p,h,E,m,A,g,T,$,I,x,D,b,L,M,k,C,S,N,O,R,B,w,z,F,G,P,H,j,U,K,q;return{c(){n=u("div"),n.innerHTML='<h1>Facebook Ad Preview</h1> \n\t<p>Enter the form data below to generate Ad Previews from your account</p> \n\t<p>Use this <a href="https://developers.facebook.com/tools/explorer/" target="_blank">Link</a> to generate a token.</p>',r=s(),a=u("div"),p=u("div"),h=u("div"),E=u("div"),m=u("div"),A=u("input"),g=s(),T=u("div"),$=u("div"),I=u("div"),x=u("input"),D=s(),b=u("div"),L=u("div"),M=u("select"),k=u("option"),k.textContent="DESKTOP_FEED_STANDARD",C=u("option"),C.textContent="INSTAGRAM_STANDARD",S=u("option"),S.textContent="INSTAGRAM_STORY",N=u("option"),N.textContent="MARKETPLACE_MOBILE",O=u("option"),O.textContent="MOBILE_FEED_BASIC",R=u("option"),R.textContent="MOBILE_FEED_STANDARD",B=u("option"),B.textContent="MOBILE_INTERSTITIAL",w=u("option"),w.textContent="MOBILE_MEDIUM_RECTANGLE",z=u("option"),z.textContent="MOBILE_NATIVE",F=u("option"),F.textContent="RIGHT_COLUMN_STANDARD",G=u("option"),G.textContent="WATCH_FEED_MOBILE",P=s(),H=u("div"),j=u("button"),j.textContent="Run",U=s(),K=u("div"),f(n,"class","header svelte-1n5krzu"),f(A,"class","siteHeader__input svelte-1n5krzu"),f(A,"type","text"),f(A,"id","token"),f(A,"placeholder","Access Token"),f(m,"class","input-container"),f(E,"class","form-control"),f(h,"class","primary col svelte-1n5krzu"),f(x,"type","text"),f(x,"id","adList"),f(x,"placeholder","Comma Separeated AD ID List"),f(x,"class","svelte-1n5krzu"),f(I,"class","input-container"),f($,"class","form-control"),f(T,"class","secondary col svelte-1n5krzu"),f(p,"class","row svelte-1n5krzu"),k.__value="DESKTOP_FEED_STANDARD",k.value=k.__value,C.__value="INSTAGRAM_STANDARD",C.value=C.__value,S.__value="INSTAGRAM_STORY",S.value=S.__value,N.__value="MARKETPLACE_MOBILE",N.value=N.__value,O.__value="MOBILE_FEED_BASIC",O.value=O.__value,R.__value="MOBILE_FEED_STANDARD",R.value=R.__value,R.selected="selected",B.__value="MOBILE_INTERSTITIAL",B.value=B.__value,w.__value="MOBILE_MEDIUM_RECTANGLE",w.value=w.__value,z.__value="MOBILE_NATIVE",z.value=z.__value,F.__value="RIGHT_COLUMN_STANDARD",F.value=F.__value,G.__value="WATCH_FEED_MOBILE",G.value=G.__value,f(M,"id","cars"),f(M,"class","svelte-1n5krzu"),void 0===e[2]&&y(()=>e[11].call(M)),f(L,"class","third col svelte-1n5krzu"),f(j,"class","btn svelte-1n5krzu"),f(j,"type","submit"),f(H,"class","forth col svelte-1n5krzu"),f(b,"class","row svelte-1n5krzu"),f(a,"class","form-container svelte-1n5krzu"),f(K,"class","card-container svelte-1n5krzu"),f(K,"id","cardContainer")},m(t,l,u){i(t,n,l),i(t,r,l),i(t,a,l),c(a,p),c(p,h),c(h,E),c(E,m),c(m,A),_(A,e[1]),c(p,g),c(p,T),c(T,$),c($,I),c(I,x),_(x,e[0]),c(a,D),c(a,b),c(b,L),c(L,M),c(M,k),c(M,C),c(M,S),c(M,N),c(M,O),c(M,R),c(M,B),c(M,w),c(M,z),c(M,F),c(M,G),v(M,e[2]),c(b,P),c(b,H),c(H,j),i(t,U,l),i(t,K,l),u&&o(q),q=[d(A,"input",e[9]),d(x,"input",e[10]),d(M,"change",e[11]),d(j,"click",e[3])]},p(t,[e]){2&e&&A.value!==t[1]&&_(A,t[1]),1&e&&x.value!==t[0]&&_(x,t[0]),4&e&&v(M,t[2])},i:t,o:t,d(t){t&&l(n),t&&l(r),t&&l(a),t&&l(U),t&&l(K),o(q)}}}function N(t,e,n){let o,r,a,c,i=[],l=null;async function u(t,e,n){await s(t,e),await fetch(`https://graph.facebook.com/v6.0/${t}/previews?access_token=${e}&ad_format=${n}`,{method:"GET"}).then(t=>t.json()).then(async e=>{i.push({id:t,iframe:e.data[0].body,postID:l});var n=document.createElement("div");return n.innerHTML=`\n\t\t\t\t<div class="card-item" style="border: 1px solid #eee; margin: 8px; border-radius: 4px;">\n\t\t\t\t\t<div class="iframe-container">\n\t\t\t\t\t\t${e.data[0].body}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="info-group">\n\t\t\t\t\t\t<h3 style="font-size: 14px; margin-left: 10px;">AD ID:<br />${t}</h3>\n\t\t\t\t\t\t<h4 style="font-size: 12px; margin-left: 10px;">Post ID:<br />${l}</h4>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,c.appendChild(n),i}).catch(t=>{console.log("Error getPreviews:",t)})}async function s(t,e){let n;await fetch(`https://graph.facebook.com/v6.0/${t}?fields=creative{effective_object_story_id}&access_token=${e}`,{method:"GET"}).then(t=>t.json()).then(t=>(n=t.creative.effective_object_story_id,l=n,n)).catch(t=>console.log("error",t))}return E(()=>{c=document.getElementById("cardContainer")}),[o,r,a,function(){i=[],c.innerHTML="";let t=JSON.parse("["+o+"]");for(let e=0;e<t.length;e++)!function(e){setTimeout((function(){u(t[e],r,a)}),1e3*e)}(e);console.log(i)},i,l,c,u,s,function(){r=this.value,n(1,r)},function(){o=this.value,n(0,o)},function(){a=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(2,a)}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}{constructor(t){super(),C(this,t,N,S,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
